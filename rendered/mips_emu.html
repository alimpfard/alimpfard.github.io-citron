<pre class="editor-colors lang-citron"><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--class syntax--citron"><span>Broom</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;memoryLimit</span></span><span>:&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1024</span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;*&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>1024</span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;*&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>1024</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>debug</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:blk</span></span><span>&nbsp;</span><span>DEBUG</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>blk</span><span>&nbsp;</span><span>run.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>QAHELP</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>s/$register&gt;/value&nbsp;::&nbsp;set&nbsp;register&nbsp;to&nbsp;value</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>p/&lt;register&gt;&nbsp;::&nbsp;print&nbsp;the&nbsp;contents&nbsp;of&nbsp;register&nbsp;&lt;register&gt;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>a+&lt;number&gt;&nbsp;::&nbsp;print&nbsp;the&nbsp;disassembly&nbsp;of&nbsp;instructions&nbsp;from&nbsp;the&nbsp;current&nbsp;PC&nbsp;for&nbsp;&lt;number&gt;&nbsp;lines</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>a-&lt;number&gt;&nbsp;::&nbsp;print&nbsp;the&nbsp;disassembly&nbsp;of&nbsp;instructions&nbsp;from&nbsp;the&nbsp;current&nbsp;PC&nbsp;minus&nbsp;number&nbsp;for&nbsp;&lt;number&gt;&nbsp;lines</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>break&lt;pc&gt;&nbsp;::&nbsp;break&nbsp;on&nbsp;PC&nbsp;=&nbsp;&lt;pc&gt;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>b&lt;pc&gt;&nbsp;::&nbsp;alias&nbsp;for&nbsp;break</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>unbreak&lt;pc&gt;&nbsp;::&nbsp;unbreak&nbsp;on&nbsp;&lt;pc&gt;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>ub&lt;pc&gt;&nbsp;::&nbsp;alias&nbsp;for&nbsp;unbreak</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>step&nbsp;::&nbsp;step&nbsp;the&nbsp;instruction</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>s&nbsp;::&nbsp;step</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>&lt;blank&gt;&nbsp;::&nbsp;step</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>continue&nbsp;::&nbsp;step&nbsp;until&nbsp;the&nbsp;end&nbsp;or&nbsp;a&nbsp;break</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>c&nbsp;::&nbsp;continue</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>q&nbsp;::&nbsp;quit</span><span>'</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>ConstantReg</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Object</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>ConstantReg</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>init:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:value</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>value</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>value.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>ConstantReg</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>set:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>ConstantReg</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>get</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>value.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>ConstantReg</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>toString</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>const:&nbsp;</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>value</span><span>&nbsp;</span><span>toString.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>Register</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Object</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;cnew</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>value</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>Register</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>init</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>value</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>Register</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>set:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:v</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>value</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>v.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>Register</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>get</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>value.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>Register</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>toString</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>value</span><span>&nbsp;</span><span>toString.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>RegFile</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Map</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;put</span></span><span>:&nbsp;(ConstantReg</span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;init</span></span><span>:&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>)</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>RegFile</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;put</span></span><span>:&nbsp;(Register</span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>init</span></span></span><span>)</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>32</span></span><span>.&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>program&nbsp;counter</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--class syntax--citron"><span>31</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;times</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:i</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>RegFile</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>(Register</span><span>&nbsp;</span><span>new</span><span>&nbsp;</span><span>init)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>(i</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>).</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>zero|at|v0|v1|a0|a1|a2|a3|t0|t1|t2|t3|t4|t5|t6|t7|s0|s1|s2|s3|s4|s5|s6|s7|t8|t9|k0|k1|gp|sp|s8|fp|ra</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;split</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>|</span><span>'</span></span><span>,</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;each</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:i:v</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>RegFile</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>(RegFile</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>i)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>v.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>MemoryBlock</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MemoryBlock</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>init</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>self</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>bp</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>64</span></span><span>&nbsp;</span><span>*</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1024</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>times</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:i</span></span><span>&nbsp;</span><span>self</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>i.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>64&nbsp;KB&nbsp;of&nbsp;accessible&nbsp;memory.&nbsp;for&nbsp;now</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MemoryBlock</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>absForBase:offset:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:base:offset</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>(base</span><span>&nbsp;</span><span>toNumber)</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(offset</span><span>&nbsp;</span><span>toNumber).</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MemoryBlock</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>getBase:offset:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:base:offset</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>absForBase</span></span><span>:</span><span>&nbsp;</span><span>base</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>offset</span></span><span>:</span><span>&nbsp;</span><span>offset).</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MemoryBlock</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>setBase:offset:value:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:base:offset:value</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>value</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>absForBase</span></span><span>:</span><span>&nbsp;</span><span>base</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>offset</span></span><span>:</span><span>&nbsp;</span><span>offset).</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MemoryBlock</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>allocate:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:size</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>bytes</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>(size</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>bp</span><span>&nbsp;</span><span>&gt;</span><span>&nbsp;</span><span>(</span><span class="syntax--support syntax--class syntax--citron"><span>32</span></span><span>&nbsp;</span><span>*</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1024</span></span><span>))</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>bp</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>bp.</span><span>&nbsp;</span><span>thisBlock</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>error</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>cannot&nbsp;allocate&nbsp;$$size&nbsp;bytes&nbsp;from&nbsp;$$bp</span><span>'</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>bp</span><span>&nbsp;</span><span>+=:</span><span>&nbsp;</span><span>size.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>bp</span><span>&nbsp;</span><span>-</span><span>&nbsp;</span><span>size.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>Funcs</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>noop</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>jump</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>nextJump</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>jump.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>add</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span>((</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand1)).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>addi</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>immediate</span><span>&nbsp;</span><span>toNumber</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>xor</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span>((</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>integerXor</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand1)).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>ori</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>immediate</span><span>&nbsp;</span><span>toNumber</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>integerOr</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>beq</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>immediate</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>immediate.</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine.</span><span>&nbsp;</span><span>((</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion))</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>nextJump</span></span><span>:</span><span>&nbsp;</span><span>immediate.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>bgez</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>immediate</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>immediate.</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine.</span><span>&nbsp;</span><span>((</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)</span><span>&nbsp;</span><span>&gt;=:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion))</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>nextJump</span></span><span>:</span><span>&nbsp;</span><span>immediate.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>bgezal</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>immediate</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>immediate.</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine.</span><span>&nbsp;</span><span>((</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion))</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>nextJump</span></span><span>:</span><span>&nbsp;</span><span>immediate.</span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>31</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span>(machine</span><span>&nbsp;</span><span>PC</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>bgtz</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>immediate</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>immediate.</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine.</span><span>&nbsp;</span><span>((</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)</span><span>&nbsp;</span><span>&gt;</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion))</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>nextJump</span></span><span>:</span><span>&nbsp;</span><span>immediate.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>blez</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>immediate</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>immediate.</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine.</span><span>&nbsp;</span><span>((</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)</span><span>&nbsp;</span><span>&lt;=:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion))</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>nextJump</span></span><span>:</span><span>&nbsp;</span><span>immediate.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>bltz</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>immediate</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>immediate.</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine.</span><span>&nbsp;</span><span>((</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)</span><span>&nbsp;</span><span>&lt;</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion))</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>nextJump</span></span><span>:</span><span>&nbsp;</span><span>immediate.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>bltzal</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>immediate</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>immediate.</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine.</span><span>&nbsp;</span><span>((</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)</span><span>&nbsp;</span><span>&lt;</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion))</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>nextJump</span></span><span>:</span><span>&nbsp;</span><span>immediate.</span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>31</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span>(machine</span><span>&nbsp;</span><span>PC</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>bne</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>immediate</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>immediate.</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine.</span><span>&nbsp;</span><span>((</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)</span><span>&nbsp;</span><span>!=:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion))</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>nextJump</span></span><span>:</span><span>&nbsp;</span><span>immediate.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>jal</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>31</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span>PC</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>).</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>nextJump</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>jump.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>jr</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>nextPC</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>and</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span>((</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>integerAnd</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand1)).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>andi</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>immediate</span><span>&nbsp;</span><span>toNumber</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>integerAnd</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>--Memory--</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>lbu</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getBytes</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>base</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>immediate</span><span>&nbsp;</span><span>toNumber)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>offset</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>sb</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setBytes</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>base</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>immediate</span><span>&nbsp;</span><span>toNumber)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>offset</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>value</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>lw</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getBytes</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>32</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>base</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>immediate</span><span>&nbsp;</span><span>toNumber)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>offset</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>sw</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setBytes</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>32</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>base</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>immediate</span><span>&nbsp;</span><span>toNumber)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>offset</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>operand0)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>value</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>destintaion).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>li</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span>noop.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>-----</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>32-Bit&nbsp;instructions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#op&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#func</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>tnoop</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>00000000000000000000000000000000</span><span>'</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>jumpb</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;&lt;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>000010</span><span>'</span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>noopb</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;&lt;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>000000</span><span>'</span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>000000</span><span>'</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>addb</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;&lt;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>000000</span><span>'</span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>100000</span><span>'</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>addib</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;&lt;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>001000</span><span>'</span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>xorb</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;&lt;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>000000</span><span>'</span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>100110</span><span>'</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>orib</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;&lt;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>001101</span><span>'</span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>beqb</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;&lt;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>000100</span><span>'</span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>lwb</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;&lt;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>100011</span><span>'</span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>lbub</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;&lt;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>100100</span><span>'</span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>swb</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;&lt;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>101011</span><span>'</span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>sbb</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;&lt;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>101000</span><span>'</span></span><span class="syntax--keyword syntax--operator syntax--message syntax--binary syntax--citron"><span>&nbsp;;&nbsp;</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>lib</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span>tnoop.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>-----</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>MIPSIntructions</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Map</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;add</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>add</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;addi</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>addi</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;addi</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>addiu</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;add</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>addu</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;and</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>and</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;andi</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>andi</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;noop</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>or</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;ori</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>ori</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;xor</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>xor</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;beq</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>beq</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;bne</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>bne</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;jump</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>j</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;jal</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>jal</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;jr</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>jr</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;lbu</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>lbu</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;sb</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>sb</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;lw</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>lw</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;sw</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>sw</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;put</span></span><span>:&nbsp;li</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>li</span><span>'</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--citron"><span>&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span class="syntax--storage syntax--type syntax--class syntax--todo"><span>TODO</span></span><span>:&nbsp;Finish&nbsp;instructions</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>MIPSIntructionBits</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Map</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;addb</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>add</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;addib</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>addi</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;noopb</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>addiu</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;noopb</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>addu</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;noopb</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>and</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;noopb</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>andi</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;noopb</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>or</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;orib</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>ori</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;xorb</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>xor</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;beqb</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>beq</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;noopb</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>bne</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;jumpb</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>j</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;noopb</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>jal</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;noopb</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>jr</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;lbub</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>lbu</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;sbb</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>sb</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;lwb</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>lw</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;swb</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>sw</span><span>'</span></span><span>,</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;put</span></span><span>:&nbsp;lib</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;at</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>li</span><span>'</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span class="syntax--storage syntax--type syntax--class syntax--todo"><span>TODO</span></span><span>:&nbsp;Finish&nbsp;instructions</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>MIPSOpsToInstrs</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span>MIPSIntructionBits</span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>flip</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>MIPSAbstractMachine</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Object</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;cnew</span></span><span>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>dirtyregs</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span>&nbsp;</span><span>new.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>regfile</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>RegFile.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>regfile</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>32</span></span><span>,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>set</span></span><span>:</span><span>&nbsp;</span><span>-</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>ploc</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>labels</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Map</span></span><span>&nbsp;</span><span>new.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>asmlabels</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Map</span></span><span>&nbsp;</span><span>new.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>memory</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>MemoryBlock</span><span>&nbsp;</span><span>new</span><span>&nbsp;</span><span>init.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>data</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Map</span></span><span>&nbsp;</span><span>new.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>setParseLocation:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:loc</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>ploc</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>loc.</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>mloc</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>(</span><span class="syntax--support syntax--class syntax--citron"><span>8</span></span><span>&nbsp;</span><span>*</span><span>&nbsp;</span><span>loc)</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(</span><span class="syntax--support syntax--class syntax--citron"><span>32</span></span><span>&nbsp;</span><span>*</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1024</span></span><span>).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>setReg:to:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:reg:value</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>dirtyregs</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>push</span></span><span>:</span><span>&nbsp;</span><span>[reg,</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span>reg)].</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>regfile</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>reg,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>set</span></span><span>:</span><span>&nbsp;</span><span>value.</span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>getReg:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:reg</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>regfile</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>reg,</span><span>&nbsp;</span><span>get.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>load:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:prg</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>program</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>decode</span></span><span>:</span><span>&nbsp;</span><span>prg</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>machine</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>assemble:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:prg</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>assemble</span></span><span>:</span><span>&nbsp;</span><span>prg</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>forMachine</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>addPDLabel:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:label</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>labels</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>ploc</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>label.</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>asmlabels</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>mloc</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>label.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>addWord:length:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:name:len</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>data</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>[</span><span class="syntax--support syntax--class syntax--citron"><span>4</span></span><span>,</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>memory</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>allocate</span></span><span>:</span><span>&nbsp;</span><span>(len</span><span>&nbsp;</span><span>*</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>4</span></span><span>))]</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>name.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>getLabel:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:label</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>result</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>labels</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span>label.</span><span>&nbsp;</span><span>result</span><span>&nbsp;</span><span>isNil</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>result</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>data</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span>label.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>result.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>0&nbsp;pseudodirect,&nbsp;1&nbsp;pc-relative</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>getLabelAsm:mode:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:label:d</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>result</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>asmlabels</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span>label.</span><span>&nbsp;</span><span>result</span><span>&nbsp;</span><span>isNil</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>result</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>data</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span>label</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span><span>d</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>result</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>mloc</span><span>&nbsp;</span><span>-</span><span>&nbsp;</span><span>result)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>length</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>16</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>result.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>dereference:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:reg</span></span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>memory</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span>reg).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>step</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span>incPC.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span>execute_current_instr.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>getBytes:base:offset:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:c:base:oreg</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>addr</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>memory</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>absForBase</span></span><span>:</span><span>&nbsp;</span><span>base</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>offset</span></span><span>:</span><span>&nbsp;</span><span>oreg.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>arr</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>memory</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span>addr</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>length</span></span><span>:</span><span>&nbsp;</span><span>c.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>debug</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>applyTo</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>$$c&nbsp;bytes&nbsp;from&nbsp;$$addr</span><span>'</span></span><span>,</span><span>&nbsp;</span><span>brk.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>arr</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>each</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:i:v</span></span><span>&nbsp;</span><span>ret</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>append</span></span><span>:</span><span>&nbsp;</span><span>(v</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>toBits</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>8</span></span><span>).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>bitsToSigned</span></span><span>:</span><span>&nbsp;</span><span>ret.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>setBytes:base:offset:value:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:c:base:oreg:val</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>addr</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>memory</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>absForBase</span></span><span>:</span><span>&nbsp;</span><span>base</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>offset</span></span><span>:</span><span>&nbsp;</span><span>oreg.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>memory</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>memory.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>val</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>val</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>toBits</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>32</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>debug</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>applyTo</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>$$c&nbsp;bytes&nbsp;from&nbsp;$$addr</span><span>'</span></span><span>,</span><span>&nbsp;</span><span>brk.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>$</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>bitsToSigned</span></span><span>:</span><span>&nbsp;</span><span>(val</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>8</span></span><span>).</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>$</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>bitsToSigned</span></span><span>:</span><span>&nbsp;</span><span>(val</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>8</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>16</span></span><span>).</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>$</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>bitsToSigned</span></span><span>:</span><span>&nbsp;</span><span>(val</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>16</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>24</span></span><span>).</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>$</span><span class="syntax--support syntax--class syntax--citron"><span>3</span></span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>bitsToSigned</span></span><span>:</span><span>&nbsp;</span><span>(val</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>24</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>32</span></span><span>).</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>c</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>min</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>4</span></span><span>,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>max</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>times</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:i</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>memory&nbsp;put:&nbsp;$%{off}&nbsp;at:&nbsp;(addr&nbsp;+&nbsp;%{off})</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>formatMap</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--support syntax--class syntax--citron"><span>Map</span></span><span>&nbsp;</span><span>new</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>i</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>off</span><span>'</span></span><span>),</span><span>&nbsp;</span><span>eval.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>rawMemoryFrom:count:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:b:c</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>memory</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span>b</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>length</span></span><span>:</span><span>&nbsp;</span><span>c.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>runTillExit</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>self</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>step</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>-</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span>green</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>((step</span><span>&nbsp;</span><span>+=:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>)</span><span>&nbsp;</span><span>toString</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>paddingRight</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>3</span></span><span>),</span><span>&nbsp;</span><span>resetColor.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>(self</span><span>&nbsp;</span><span>step</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>whileTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span>green</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>((step</span><span>&nbsp;</span><span>+=:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>)</span><span>&nbsp;</span><span>toString</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>paddingRight</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>3</span></span><span>),</span><span>&nbsp;</span><span>resetColor.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Broom</span></span><span>&nbsp;</span><span>sweep.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span>magenta</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>Program&nbsp;terminated&nbsp;in&nbsp;%d&nbsp;steps.</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>formatObjects</span></span><span>:</span><span>&nbsp;</span><span>[(step</span><span>&nbsp;</span><span>-</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>)]),</span><span>&nbsp;</span><span>resetColor</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>runQASession</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>self</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>q</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>last_q</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>q.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span>cyan</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>&gt;&gt;&gt;&nbsp;</span><span>'</span></span><span>,</span><span>&nbsp;</span><span>resetColor.</span><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>((q</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>Program</span><span>&nbsp;</span><span>waitForInput</span><span>&nbsp;</span><span>trim)).</span><span>&nbsp;</span><span>q</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>containsPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>^$</span><span>'</span></span><span>,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifFalse</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>last_q</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>q.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>else</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>q</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>last_q.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>whileTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(q</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>q</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>Program</span><span>&nbsp;</span><span>exit.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(q</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>containsPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>^s/.*?/</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>d+</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>reg</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>value</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>q</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>^s</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>/(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>w+)</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>/(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>d+)</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(reg</span><span>&nbsp;</span><span>toNumber</span><span>&nbsp;</span><span>toString</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>reg)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>reg</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>reg</span><span>&nbsp;</span><span>toNumber.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>value</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>&nbsp;</span><span>toNumber.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>self</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setReg</span></span><span>:</span><span>&nbsp;</span><span>reg</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span>value.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span>magenta</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>set&nbsp;$$reg&nbsp;to&nbsp;$$value</span><span>'</span></span><span>,</span><span>&nbsp;</span><span>resetColor</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(q</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>containsPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>^p/.*?</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>reg</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>value</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>q</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>^p</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>/(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>w+)</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(reg</span><span>&nbsp;</span><span>toNumber</span><span>&nbsp;</span><span>toString</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>reg)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>reg</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>reg</span><span>&nbsp;</span><span>toNumber.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span>magenta</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>$%s:&nbsp;%s</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>formatObjects</span></span><span>:</span><span>&nbsp;</span><span>[reg,(self</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span>reg)]),</span><span>&nbsp;</span><span>resetColor</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(q</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>containsPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>^a([+-])(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>d*)</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>q</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>^a([+-])(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>d*)</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>st</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>(self</span><span>&nbsp;</span><span>PC</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>((parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>-</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>either</span></span><span>:</span><span>&nbsp;</span><span>((parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>&nbsp;</span><span>toNumber)</span><span>&nbsp;</span><span>*</span><span>&nbsp;</span><span>-</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>or</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>)).</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>en</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>(((parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>-</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>either</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>or</span></span><span>:</span><span>&nbsp;</span><span>((parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>&nbsp;</span><span>toNumber))))</span><span>&nbsp;</span><span>toNumber.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>from&nbsp;$$st&nbsp;assemble&nbsp;$$en&nbsp;instruction(s)</span><span>'</span></span><span>,</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>ass</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>self</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>assemble</span></span><span>:</span><span>&nbsp;</span><span>(program</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span>st</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>length</span></span><span>:</span><span>&nbsp;</span><span>en).</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\t</span></span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(ass</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>join</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\n</span><span>\t</span></span><span>'</span></span><span>),</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(q</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>containsPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>^(b|break)</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>d+)</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>q</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>^(b|break)</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>d+)</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>where</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>&nbsp;</span><span>toNumber.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span>magenta</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>break&nbsp;on&nbsp;pc&nbsp;$$where</span><span>'</span></span><span>,</span><span>&nbsp;</span><span>resetColor</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>breaks</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>True</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>where.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(q</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>containsPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>^(ub|unbreak)</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>d+)</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>q</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>^(ub|ubreak)</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>d+)</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>where</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>&nbsp;</span><span>toNumber.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span>magenta</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>clear&nbsp;break&nbsp;on&nbsp;pc&nbsp;$$where</span><span>'</span></span><span>,</span><span>&nbsp;</span><span>resetColor</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>breaks</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Nil</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>where.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(q</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>containsPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>^(pm)</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>d+):(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>d+)</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>q</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>^(pm)</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>d+):(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>d+)</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>where</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>&nbsp;</span><span>toNumber.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>c</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>3</span></span><span>&nbsp;</span><span>toNumber.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span>magenta</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>printing&nbsp;$$c&nbsp;bytes&nbsp;of&nbsp;memory&nbsp;from&nbsp;$$where</span><span>'</span></span><span>,</span><span>&nbsp;</span><span>resetColor</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span>&nbsp;</span><span>new.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>self</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>rawMemoryFrom</span></span><span>:</span><span>&nbsp;</span><span>where</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>count</span></span><span>:</span><span>&nbsp;</span><span>c,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>each</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:i:v</span></span><span>&nbsp;</span><span>ret</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>push</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>$$i&nbsp;</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(v</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>toBits</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>8</span></span><span>)</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>&nbsp;($$v</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>)</span><span>'</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>(ret</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>join</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\n</span></span><span>'</span></span><span>),</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(q</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>containsPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>^h(elp)?</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>QAHELP,</span><span>&nbsp;</span><span>brk.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(q</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>containsPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>^c|continue$</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>_continue</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>True</span></span><span>.</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>True</span></span><span>&nbsp;</span><span>break.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(q</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>containsPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>^s(tep)?$</span><span>'</span></span><span>)</span><span>&nbsp;</span><span>break.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>interactiveRun</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>self</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>step</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>-</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>program</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span>getSrc.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>breaks</span><span>&nbsp;</span><span>:=</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Map</span></span><span>&nbsp;</span><span>new.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>_continue</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>False</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span>green</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>((step</span><span>&nbsp;</span><span>+=:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>)</span><span>&nbsp;</span><span>toString</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>paddingRight</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>3</span></span><span>),</span><span>&nbsp;</span><span>resetColor.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>(self</span><span>&nbsp;</span><span>stepGraphical</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>whileTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>breaks</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>self</span><span>&nbsp;</span><span>PC,</span><span>&nbsp;</span><span>isNil</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifFalse</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>_continue</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>False</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>_continue</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifFalse</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>self</span><span>&nbsp;</span><span>runQASession.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span>green</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>((step</span><span>&nbsp;</span><span>+=:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>)</span><span>&nbsp;</span><span>toString</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>paddingRight</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>3</span></span><span>),</span><span>&nbsp;</span><span>resetColor.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Broom</span></span><span>&nbsp;</span><span>sweep.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span>magenta</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>Program&nbsp;terminated&nbsp;in&nbsp;%d&nbsp;steps.</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>formatObjects</span></span><span>:</span><span>&nbsp;</span><span>[step]),</span><span>&nbsp;</span><span>resetColor</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>stepGraphical</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span>incPC.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span>execute_current_instr_g.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>getSrc</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>instrs</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span>&nbsp;</span><span>new.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>program</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>each</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:i:v</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>instrs</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>push</span></span><span>:</span><span>&nbsp;</span><span>(v</span><span>&nbsp;</span><span>src).</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>instrs.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>execute_current_instr</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>step</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>False</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>(step</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>(((</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span>PC)</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span>PC</span><span>&nbsp;</span><span>toNumber))</span><span>&nbsp;</span><span>&amp;</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span>PC</span><span>&nbsp;</span><span>&lt;</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>program</span><span>&nbsp;</span><span>count))))</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>instr</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>program</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span>PC),</span><span>&nbsp;</span><span>run.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>[</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>,step].</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>execute_current_instr_g</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>step</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>False</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>dirtyregs</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>dirtyregs.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>(step</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>(((</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span>PC)</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span>PC</span><span>&nbsp;</span><span>toNumber))</span><span>&nbsp;</span><span>&amp;</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span>PC</span><span>&nbsp;</span><span>&lt;</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>program</span><span>&nbsp;</span><span>count))))</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>instr</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>program</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span>PC).</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>src</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>instr</span><span>&nbsp;</span><span>src.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>regs</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>self</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>instr</span><span>&nbsp;</span><span>run.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>regs</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span>&nbsp;</span><span>new.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>(src</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>paddingRight</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>16</span></span><span>),</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>dirtyregs</span><span>&nbsp;</span><span>count</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>times</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>reg</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>dirtyregs</span><span>&nbsp;</span><span>pop.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>regs</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>push</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>$</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(reg</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>)</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>:&nbsp;[%d&nbsp;-&gt;&nbsp;%d]</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>formatObjects</span></span><span>:</span><span>&nbsp;</span><span>[(reg</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>),</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getReg</span></span><span>:</span><span>&nbsp;</span><span>(reg</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>))])).</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>regs</span><span>&nbsp;</span><span>count</span><span>&nbsp;</span><span>&gt;</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>=&gt;&nbsp;</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(regs</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>join</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>,&nbsp;</span><span>'</span></span><span>),</span><span>&nbsp;</span><span>brk.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>else</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span>brk.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>[</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>,step].</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>nextJump:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:label</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setPC</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>labels</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span>label</span><span>&nbsp;</span><span>-</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>).</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>nextPC:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:pc</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setPC</span></span><span>:</span><span>&nbsp;</span><span>(pc</span><span>&nbsp;</span><span>-</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>).</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>incPC</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>regfile</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>32</span></span><span>,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>set</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>regfile</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>32</span></span><span>,</span><span>&nbsp;</span><span>get</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>).</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>setPC:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:v</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>regfile</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>32</span></span><span>,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>set</span></span><span>:</span><span>&nbsp;</span><span>v.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>PC</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>regfile</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>32</span></span><span>,</span><span>&nbsp;</span><span>get.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSIntructions</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>decode:machine:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:instrs:machine</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>instrs&nbsp;is&nbsp;instrs&nbsp;findPattern:&nbsp;'\#.*\\s'&nbsp;do:&nbsp;{^'\\n'.},&nbsp;#Ignore&nbsp;comments</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;findPattern:&nbsp;'\\s+'&nbsp;do:&nbsp;{^'&nbsp;'.}.&nbsp;#Ignore&nbsp;repeated&nbsp;whitespace</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>self</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>code</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>instrs</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>split</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\n</span></span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>dec</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span>&nbsp;</span><span>new.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>code</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>each</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:i:v</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(v</span><span>&nbsp;</span><span>trim</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>)</span><span>&nbsp;</span><span>continue.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setParseLocation</span></span><span>:</span><span>&nbsp;</span><span>i.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>dec</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>push</span></span><span>:</span><span>&nbsp;</span><span>(MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>instrFor</span></span><span>:</span><span>&nbsp;</span><span>(v</span><span>&nbsp;</span><span>trim)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>machine</span></span><span>:</span><span>&nbsp;</span><span>machine).</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>Pen&nbsp;red&nbsp;write:&nbsp;v,&nbsp;green&nbsp;write:&nbsp;(dec&nbsp;@&nbsp;i),&nbsp;resetColor&nbsp;brk.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>dec.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSIntructions</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>assemble:forMachine:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:instrs:machine</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>self</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>code</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>instrs</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>split</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\n</span></span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>dec</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span>&nbsp;</span><span>new.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>code</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>each</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:i:v</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(v</span><span>&nbsp;</span><span>trim</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>)</span><span>&nbsp;</span><span>continue.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>setParseLocation</span></span><span>:</span><span>&nbsp;</span><span>i.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>instr</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>(MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>assembleInstr</span></span><span>:</span><span>&nbsp;</span><span>(v</span><span>&nbsp;</span><span>trim)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>forMachine</span></span><span>:</span><span>&nbsp;</span><span>machine).</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>instr</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>each</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:i:v</span></span><span>&nbsp;</span><span>dec</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>push</span></span><span>:</span><span>&nbsp;</span><span>v.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>((instr</span><span>&nbsp;</span><span>type)</span><span>&nbsp;</span><span>!=:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>Array</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>dec</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>push</span></span><span>:</span><span>&nbsp;</span><span>instr.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>Pen&nbsp;red&nbsp;write:&nbsp;v,&nbsp;green&nbsp;write:&nbsp;(dec&nbsp;@&nbsp;i),&nbsp;resetColor&nbsp;brk.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>dec.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>RFormat</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Object</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>RFormat</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>emit:op0:op1:dst:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:op:o0:o1:dst</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>op.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>opf</span><span>&nbsp;</span><span>isNil</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>noop.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>else</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>(</span><span class="syntax--support syntax--class syntax--citron"><span>Reflect</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>copyBlock</span></span><span>:</span><span>&nbsp;</span><span>opf)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>set</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>operand0</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>value</span></span><span>:</span><span>&nbsp;</span><span>o0,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>set</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>operand1</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>value</span></span><span>:</span><span>&nbsp;</span><span>o1,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>set</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>destintaion</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>value</span></span><span>:</span><span>&nbsp;</span><span>dst.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>opf.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>IFormat</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Object</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>IFormat</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>emit:op0:immediate:dst:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:op:o0:o1:dst</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>op.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>opf</span><span>&nbsp;</span><span>isNil</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>noop.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>else</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>(</span><span class="syntax--support syntax--class syntax--citron"><span>Reflect</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>copyBlock</span></span><span>:</span><span>&nbsp;</span><span>opf)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>set</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>operand0</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>value</span></span><span>:</span><span>&nbsp;</span><span>o0,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>set</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>immediate</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>value</span></span><span>:</span><span>&nbsp;</span><span>o1,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>set</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>destintaion</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>value</span></span><span>:</span><span>&nbsp;</span><span>dst.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>opf.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>JFormat</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>Object</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>new</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>JFormat</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>emit:label:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:op:dst</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>op.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>opf</span><span>&nbsp;</span><span>isNil</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>noop.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>else</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>(</span><span class="syntax--support syntax--class syntax--citron"><span>Reflect</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>copyBlock</span></span><span>:</span><span>&nbsp;</span><span>opf)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>set</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>jump</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>value</span></span><span>:</span><span>&nbsp;</span><span>dst.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>opf.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>RFormat</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>emitBits:op0:op1:dst:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:op:o0:o1:dst</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>MIPSIntructionBits</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>op.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>opf</span><span>&nbsp;</span><span>isNil</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>tnoop.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>else</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>Handle&nbsp;shift&nbsp;amount</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>(opf</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>)</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(o0</span><span>&nbsp;</span><span>toNumber</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>toBits</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>5</span></span><span>,</span><span>&nbsp;</span><span>reverse)</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(o1</span><span>&nbsp;</span><span>toNumber</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>toBits</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>5</span></span><span>,</span><span>&nbsp;</span><span>reverse)</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(dst</span><span>&nbsp;</span><span>toNumber</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>toBits</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>5</span></span><span>,</span><span>&nbsp;</span><span>reverse)</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>toBits</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>5</span></span><span>,</span><span>&nbsp;</span><span>reverse)</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(opf</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>&nbsp;</span><span>reverse).</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>opf.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>IFormat</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>emitBits:op0:immediate:dst:machine:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:op:o0:oimm:dst:machine</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>MIPSIntructionBits</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>op.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>opf</span><span>&nbsp;</span><span>isNil</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>tnoop.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>else</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>debug</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>applyTo</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>--&gt;&nbsp;$$oimm</span><span>'</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(oimm</span><span>&nbsp;</span><span>toNumber</span><span>&nbsp;</span><span>toString</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>oimm)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifFalse</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>oimm</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getLabelAsm</span></span><span>:</span><span>&nbsp;</span><span>oimm</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>mode</span></span><span>:</span><span>&nbsp;</span><span>(op</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>beq</span><span>'</span></span><span>&nbsp;</span><span>toNumber).</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>debug</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>applyTo</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>&nbsp;$$oimm</span><span>'</span></span><span>,</span><span>&nbsp;</span><span>brk.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>(opf</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>)</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(o0</span><span>&nbsp;</span><span>toNumber</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>toBits</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>5</span></span><span>,</span><span>&nbsp;</span><span>reverse)</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(dst</span><span>&nbsp;</span><span>toNumber</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>toBits</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>5</span></span><span>,</span><span>&nbsp;</span><span>reverse)</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(oimm</span><span>&nbsp;</span><span>toNumber</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>toBits</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>16</span></span><span>,</span><span>&nbsp;</span><span>reverse).</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>opf.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>JFormat</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>emitBits:label:machine:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:op:dst:machine</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>MIPSIntructionBits</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>op.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>opf</span><span>&nbsp;</span><span>isNil</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>tnoop.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>,</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>else</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>Pen&nbsp;write:&nbsp;'--&gt;&nbsp;$$dst'.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(dst</span><span>&nbsp;</span><span>toNumber</span><span>&nbsp;</span><span>toString</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>dst)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifFalse</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>dst</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>getLabelAsm</span></span><span>:</span><span>&nbsp;</span><span>dst</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>mode</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>dst</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>(dst</span><span>&nbsp;</span><span>toNumber</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>toBits</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>32</span></span><span>).</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>dst</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>dst</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>4</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>30</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>opf</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>(opf</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>)</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(dst</span><span>&nbsp;</span><span>reverse).</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>opf.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSIntructions</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>instrFor:machine:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:command:machine</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>noop.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>op</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>reg_dest</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>reg_op0</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>reg_op1</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>oimm</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>label</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Nil</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>$([(zero)(at)(v0)(v1)(a0)(a1)(a2)(a3)(t0)(t1)(t2)(t3)(t4)(t5)(t6)(t7)(s0)(s1)(s2)(s3)(s4)(s5)(s6)(s7)(t8)(t9)(k0)(k1)(gp)(sp)(s8)(fp)(ra)[:digit:]])</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>idataregex</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>((</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>w)+)</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>command</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span>idataregex</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>:</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>J-Format&nbsp;(op&nbsp;label)</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>label</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>label&nbsp;$$label</span><span>'</span></span><span>,</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>addPDLabel</span></span><span>:</span><span>&nbsp;</span><span>label.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>command</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>#label...</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>command</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>w+)</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s+</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*,</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*,</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>R-Format</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>op</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg_dest</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg_op0</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>3</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg_op1</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>4</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>$$op&nbsp;::&nbsp;dest=$$reg_dest&nbsp;operand0=$$reg_op0&nbsp;operand1=$$reg_op1</span><span>'</span></span><span>),</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>RFormat</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>emit</span></span><span>:</span><span>&nbsp;</span><span>op</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>op0</span></span><span>:</span><span>&nbsp;</span><span>reg_op0</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>op1</span></span><span>:</span><span>&nbsp;</span><span>reg_op1</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>dst</span></span><span>:</span><span>&nbsp;</span><span>reg_dest.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>command</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>w+)</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s+</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*,</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>idataregex</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*[(]</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*[)]</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>I-Format&nbsp;(op&nbsp;$reg,&nbsp;base($offset))</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>op</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg_dest</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>oimm</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>3</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg_op0</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>5</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>$$op&nbsp;::&nbsp;dest=$$reg_dest&nbsp;offset=$$reg_op0&nbsp;base=$$oimm</span><span>'</span></span><span>),</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>IFormat</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>emit</span></span><span>:</span><span>&nbsp;</span><span>op</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>op0</span></span><span>:</span><span>&nbsp;</span><span>reg_op0</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>immediate</span></span><span>:</span><span>&nbsp;</span><span>(oimm)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>dst</span></span><span>:</span><span>&nbsp;</span><span>reg_dest.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>command</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>w+)</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s+</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*,</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*,</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>idataregex</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>I-Format&nbsp;(op&nbsp;$src,&nbsp;$dst,&nbsp;oimm)</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>op</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg_dest</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>oimm</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>4</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg_op0</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>3</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>$$op&nbsp;::&nbsp;dest=$$reg_dest&nbsp;operand0=$$reg_op0&nbsp;immediate=$$oimm</span><span>'</span></span><span>),</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>IFormat</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>emit</span></span><span>:</span><span>&nbsp;</span><span>op</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>op0</span></span><span>:</span><span>&nbsp;</span><span>reg_op0</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>immediate</span></span><span>:</span><span>&nbsp;</span><span>(oimm)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>dst</span></span><span>:</span><span>&nbsp;</span><span>reg_dest.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>command</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>w+)</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s+</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>idataregex</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>J-Format&nbsp;(op&nbsp;label)</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>op</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>oimm</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>$$op&nbsp;::&nbsp;dest=$$oimm</span><span>'</span></span><span>),</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>JFormat</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>emit</span></span><span>:</span><span>&nbsp;</span><span>op</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>label</span></span><span>:</span><span>&nbsp;</span><span>oimm.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>on</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>src</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>my</span></span><span>&nbsp;</span><span>source.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span><span>ret</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>set</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>source</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>value</span></span><span>:</span><span>&nbsp;</span><span>((ret</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>noop)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>either</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>...noop...</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>or</span></span><span>:</span><span>&nbsp;</span><span>command).</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>set</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>machine</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>value</span></span><span>:</span><span>&nbsp;</span><span>machine.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>ret.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSIntructions</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>assembleInstr:forMachine:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:command:machine</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>tnoop.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>op</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>reg_dest</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>reg_op0</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>reg_op1</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>oimm</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>label</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Nil</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>$([(zero)(at)(v0)(v1)(a0)(a1)(a2)(a3)(t0)(t1)(t2)(t3)(t4)(t5)(t6)(t7)(s0)(s1)(s2)(s3)(s4)(s5)(s6)(s7)(t8)(t9)(k0)(k1)(gp)(sp)(s8)(fp)(ra)[:digit:]])</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>idataregex</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>((</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>w)+)</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>command</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span>idataregex</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>:</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>J-Format&nbsp;(op&nbsp;label)</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>label</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>label&nbsp;$$label</span><span>'</span></span><span>,</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>machine</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>addPDLabel</span></span><span>:</span><span>&nbsp;</span><span>label.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>command</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>#label...</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>command</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>(jr)</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s+</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>op</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg_dest</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>$$op&nbsp;::&nbsp;dest=$$reg_dest&nbsp;operand0=$0&nbsp;operand1=$0</span><span>'</span></span><span>),</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>RFormat</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>emitBits</span></span><span>:</span><span>&nbsp;</span><span>op</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>op0</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>0</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>op1</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>0</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>dst</span></span><span>:</span><span>&nbsp;</span><span>reg_dest.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>command</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>w+)</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s+</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*,</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*,</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>R-Format</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>op</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg_dest</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg_op0</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>3</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg_op1</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>4</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>$$op&nbsp;::&nbsp;dest=$$reg_dest&nbsp;operand0=$$reg_op0&nbsp;operand1=$$reg_op1</span><span>'</span></span><span>),</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>RFormat</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>emitBits</span></span><span>:</span><span>&nbsp;</span><span>op</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>op0</span></span><span>:</span><span>&nbsp;</span><span>reg_op0</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>op1</span></span><span>:</span><span>&nbsp;</span><span>reg_op1</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>dst</span></span><span>:</span><span>&nbsp;</span><span>reg_dest.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>command</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>w+)</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s+</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*,</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>idataregex</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*[(]</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*[)]</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>I-Format&nbsp;(op&nbsp;$reg,&nbsp;base($offset))</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>debug</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>applyTo</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>parts,</span><span>&nbsp;</span><span>brk.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>op</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg_dest</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>oimm</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>3</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg_op0</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>5</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>$$op&nbsp;::&nbsp;dest=$$reg_dest&nbsp;offset=$$reg_op0&nbsp;base=$$oimm</span><span>'</span></span><span>),</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>IFormat</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>emitBits</span></span><span>:</span><span>&nbsp;</span><span>op</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>op0</span></span><span>:</span><span>&nbsp;</span><span>reg_op0</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>immediate</span></span><span>:</span><span>&nbsp;</span><span>oimm</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>dst</span></span><span>:</span><span>&nbsp;</span><span>reg_dest</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>machine</span></span><span>:</span><span>&nbsp;</span><span>machine.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>command</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>w+)</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s+</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*,</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>iregregex</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*,</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s*</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>idataregex</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>I-Format&nbsp;(op&nbsp;$src,&nbsp;$dst,&nbsp;oimm)</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>op</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg_dest</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>oimm</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>4</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>reg_op0</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>3</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>$$op&nbsp;::&nbsp;dest=$$reg_dest&nbsp;operand0=$$reg_op0&nbsp;immediate=$$oimm</span><span>'</span></span><span>),</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>IFormat</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>emitBits</span></span><span>:</span><span>&nbsp;</span><span>op</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>op0</span></span><span>:</span><span>&nbsp;</span><span>reg_op0</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>immediate</span></span><span>:</span><span>&nbsp;</span><span>oimm</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>dst</span></span><span>:</span><span>&nbsp;</span><span>reg_dest</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>machine</span></span><span>:</span><span>&nbsp;</span><span>machine.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>command</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>findPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>(</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>w+)</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\\</span></span><span>s+</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>idataregex</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>do</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:parts</span></span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>J-Format&nbsp;(op&nbsp;label)</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>op</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>oimm</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>parts</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>write</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>$$op&nbsp;::&nbsp;dest=$$oimm</span><span>'</span></span><span>),</span><span>&nbsp;</span><span>brk.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>JFormat</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>emitBits</span></span><span>:</span><span>&nbsp;</span><span>op</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>label</span></span><span>:</span><span>&nbsp;</span><span>oimm</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>machine</span></span><span>:</span><span>&nbsp;</span><span>machine.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>ret.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSIntructions</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>splitBits:format:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:str:f</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Map</span></span><span>&nbsp;</span><span>new</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Nil</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>format</span><span>'</span></span><span>,</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>(str</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>6</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>op</span><span>'</span></span><span>.</span><span>&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>op&nbsp;bits,&nbsp;assume&nbsp;invalid&nbsp;unless&nbsp;in&nbsp;one&nbsp;of&nbsp;three&nbsp;formats</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>str</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>str</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>6</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span>(str</span><span>&nbsp;</span><span>length).</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>(f</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>r</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>(str</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>5</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>o0</span><span>'</span></span><span>,</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>(str</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>5</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>10</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>o1</span><span>'</span></span><span>,</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>(str</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>10</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>15</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>odst</span><span>'</span></span><span>,</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>(str</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>15</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>20</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>sham</span><span>'</span></span><span>,</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>(str</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>20</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>26</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>func</span><span>'</span></span><span>,</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>r</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>format</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>(f</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>i</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>(str</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>5</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>o0</span><span>'</span></span><span>,</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>(str</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>5</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>10</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>odst</span><span>'</span></span><span>,</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>(str</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>10</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>26</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>oimm</span><span>'</span></span><span>,</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>i</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>format</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>(f</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>j</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>(str</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>26</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>o0</span><span>'</span></span><span>,</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>j</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>format</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>format</span><span>'</span></span><span>&nbsp;</span><span>isNil</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>thisBlock</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>error</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>Invalid&nbsp;bit-string&nbsp;format&nbsp;in&nbsp;instruction:&nbsp;$$str&nbsp;(op=</span><span>'</span></span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>(ret</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>op</span><span>'</span></span><span>)</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>)</span><span>'</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>ret.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSIntructions</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>bitsToSigned:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:str</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>i</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>len</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>str</span><span>&nbsp;</span><span>length.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>str</span><span>&nbsp;</span><span>characters</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>each</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:p:v</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(v</span><span>&nbsp;</span><span>!=:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>1</span><span>'</span></span><span>)</span><span>&nbsp;</span><span>continue.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>v</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>toPowerOf</span></span><span>:</span><span>&nbsp;</span><span>p.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(p</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>len)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>v</span><span>&nbsp;</span><span>*=:</span><span>&nbsp;</span><span>-</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>i</span><span>&nbsp;</span><span>+=:</span><span>&nbsp;</span><span>v.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>i.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSIntructions</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>bitsToUnsigned:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:str</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>i</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>len</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>str</span><span>&nbsp;</span><span>length.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>str</span><span>&nbsp;</span><span>characters</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>each</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:p:v</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(v</span><span>&nbsp;</span><span>!=:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>1</span><span>'</span></span><span>)</span><span>&nbsp;</span><span>continue.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>v</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>toPowerOf</span></span><span>:</span><span>&nbsp;</span><span>p.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>i</span><span>&nbsp;</span><span>+=:</span><span>&nbsp;</span><span>v.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>i.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSIntructions</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>bitsToUnsignedReverse:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:str</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>i</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>len</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>str</span><span>&nbsp;</span><span>length.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>str</span><span>&nbsp;</span><span>characters</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>each</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:p:v</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(v</span><span>&nbsp;</span><span>!=:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>1</span><span>'</span></span><span>)</span><span>&nbsp;</span><span>continue.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>v</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>toPowerOf</span></span><span>:</span><span>&nbsp;</span><span>(len</span><span>&nbsp;</span><span>-</span><span>&nbsp;</span><span>p</span><span>&nbsp;</span><span>-</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>1</span></span><span>).</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>i</span><span>&nbsp;</span><span>+=:</span><span>&nbsp;</span><span>v.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>i.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSIntructions</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>splitBitsToInstr:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:split</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>f</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>split</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>func</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>f</span><span>&nbsp;</span><span>isNil</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>f</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>'</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>entry</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span>&nbsp;</span><span>new</span><span>&nbsp;</span><span>&lt;</span><span>&nbsp;</span><span>(split</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>op</span><span>'</span></span><span>)</span><span>&nbsp;</span><span>;</span><span>&nbsp;</span><span>f.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>f</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>split</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>format</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>#noop</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;Pen&nbsp;write:&nbsp;entry,&nbsp;brk.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>(f</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>r</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>entry</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>MIPSOpsToInstrs</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>entry.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>entry</span><span>&nbsp;</span><span>isNil</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifFalse</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>ops</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span>&nbsp;</span><span>new</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>push</span></span><span>:</span><span>&nbsp;</span><span>entry,</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>push</span></span><span>:</span><span>&nbsp;</span><span>(MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>bitsToUnsigned</span></span><span>:</span><span>&nbsp;</span><span>(split</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>odst</span><span>'</span></span><span>)),</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>push</span></span><span>:</span><span>&nbsp;</span><span>(MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>bitsToUnsigned</span></span><span>:</span><span>&nbsp;</span><span>(split</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>o0</span><span>'</span></span><span>)),</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>push</span></span><span>:</span><span>&nbsp;</span><span>(MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>bitsToUnsigned</span></span><span>:</span><span>&nbsp;</span><span>(split</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>o1</span><span>'</span></span><span>)).</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>%s&nbsp;$%d,&nbsp;$%d,&nbsp;$%d</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>formatObjects</span></span><span>:</span><span>&nbsp;</span><span>ops.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>(f</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>i</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>entry</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>MIPSOpsToInstrs</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>entry.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>entry</span><span>&nbsp;</span><span>isNil</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifFalse</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>ops</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Map</span></span><span>&nbsp;</span><span>new</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>entry</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>op</span><span>'</span></span><span>,</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>(MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>bitsToUnsigned</span></span><span>:</span><span>&nbsp;</span><span>(split</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>odst</span><span>'</span></span><span>))</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>dest</span><span>'</span></span><span>,</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>(MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>bitsToUnsigned</span></span><span>:</span><span>&nbsp;</span><span>(split</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>o0</span><span>'</span></span><span>))</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>operand</span><span>'</span></span><span>,</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>put</span></span><span>:</span><span>&nbsp;</span><span>(MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>bitsToUnsigned</span></span><span>:</span><span>&nbsp;</span><span>(split</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>oimm</span><span>'</span></span><span>))</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>immediate</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>((entry</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>containsPattern</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>(s|l)(w|h|ui|hu|bu)</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>either</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>%{op}&nbsp;$%{dest},&nbsp;%{immediate}($%{operand})</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>or</span></span><span>:</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>%{op}&nbsp;$%{dest},&nbsp;$%{operand},&nbsp;%{immediate}</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>formatMap</span></span><span>:</span><span>&nbsp;</span><span>ops.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>(f</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>j</span><span>'</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>entry</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>MIPSOpsToInstrs</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>at</span></span><span>:</span><span>&nbsp;</span><span>entry.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>entry</span><span>&nbsp;</span><span>isNil</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifFalse</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>ops</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>Array</span></span><span>&nbsp;</span><span>new</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>push</span></span><span>:</span><span>&nbsp;</span><span>entry,</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>push</span></span><span>:</span><span>&nbsp;</span><span>(MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>bitsToUnsignedReverse</span></span><span>:</span><span>&nbsp;</span><span>(split</span><span>&nbsp;</span><span>@</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>o0</span><span>'</span></span><span>)).</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ret</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>%s&nbsp;%s</span><span>'</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>formatObjects</span></span><span>:</span><span>&nbsp;</span><span>ops.</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span>ret.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSIntructions</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;on</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>disassemble:</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;do</span></span><span>:&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span class="syntax--variable syntax--parameter syntax--function syntax--citron"><span>:str</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>format</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>i</span><span>'</span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span>&nbsp;</span><span>op</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>MIPSIntructions</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>bitsToUnsignedReverse</span></span><span>:</span><span>&nbsp;</span><span>(str</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>from</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>to</span></span><span>:</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>6</span></span><span>).</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>op</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>0</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>format</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>r</span><span>'</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span>(op</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>2</span></span><span>)</span><span>&nbsp;</span><span>|</span><span>&nbsp;</span><span>(op</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>3</span></span><span>)</span><span>&nbsp;</span><span>|</span><span>&nbsp;</span><span>(op</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>26</span></span><span>)</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>ifTrue</span></span><span>:</span><span>&nbsp;</span><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>{</span></span><span>format</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>j</span><span>'</span></span><span>.</span><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span>&nbsp;&nbsp;</span><span class="syntax--keyword syntax--control syntax--return syntax--citron"><span>^</span></span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>splitBitsToInstr</span></span><span>:</span><span>&nbsp;</span><span>(</span><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>me</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>splitBits</span></span><span>:</span><span>&nbsp;</span><span>str</span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>format</span></span><span>:</span><span>&nbsp;</span><span>format).</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--meta syntax--closure syntax--with-params syntax--citron"><span class="syntax--punctuation syntax--definition syntax--closure syntax--citron"><span>}</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>masm</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>main:</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ori&nbsp;&nbsp;$5,&nbsp;$0,&nbsp;30</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ori&nbsp;&nbsp;$6,&nbsp;$0,&nbsp;5</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jal&nbsp;&nbsp;procedure_mult</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;procedure_mult:</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;beq&nbsp;&nbsp;$6,&nbsp;$0,&nbsp;iret0</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addi&nbsp;$6,&nbsp;$6,&nbsp;-1</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw&nbsp;&nbsp;&nbsp;$7,&nbsp;0($sp)</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;&nbsp;&nbsp;$7,&nbsp;$0,&nbsp;$5</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mult:</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;beq&nbsp;&nbsp;$6,&nbsp;$0,&nbsp;iret</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add&nbsp;&nbsp;$5,&nbsp;$5,&nbsp;$7</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addi&nbsp;$6,&nbsp;$6,&nbsp;-1</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;mult</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iret:</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lw&nbsp;&nbsp;&nbsp;$7,&nbsp;0($sp)</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jr&nbsp;&nbsp;&nbsp;$ra</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iret0:</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xor&nbsp;&nbsp;$5,&nbsp;$5,&nbsp;$5</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jr&nbsp;&nbsp;&nbsp;$ra'</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>ori&nbsp;$5,$0,256</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>sw&nbsp;$5,&nbsp;0($0)</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>xor&nbsp;$5,$5,$5</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>lw&nbsp;$5,&nbsp;0($0)</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>andi&nbsp;$4,$4,10</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>&nbsp;ori&nbsp;$4,$0,40</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>&nbsp;xor&nbsp;$2,$2,$2</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>&nbsp;main:</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>&nbsp;beq&nbsp;$2,$4,exit</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>&nbsp;addi&nbsp;$2,$2,10</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>&nbsp;add&nbsp;$3,$2,$2</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>&nbsp;j&nbsp;main</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--string syntax--quoted syntax--citron"><span>&nbsp;exit:</span><span>'</span></span><span>.</span><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>And&nbsp;she&nbsp;supported&nbsp;multiline&nbsp;strings&nbsp;like&nbsp;normal&nbsp;ones</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;'li&nbsp;$t0,&nbsp;0'.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;addWord</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>X</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;length</span></span><span>:&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>12</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;addWord</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span>Y</span><span>'</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;length</span></span><span>:&nbsp;</span><span class="syntax--support syntax--class syntax--citron"><span>12</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>DEBUG</span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span class="syntax--support syntax--class syntax--citron"><span>False</span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>green</span></span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;write</span></span><span>:&nbsp;masm,</span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>resetColor</span></span><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>brk</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>red</span></span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;write</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\n</span></span><span>Parsed:</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\n</span></span><span>'</span></span><span>,</span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>resetColor</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--keyword syntax--other syntax--unit syntax--citron"><span>var</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>ass</span></span></span><span class="syntax--meta syntax--assignment syntax--citron"><span>&nbsp;</span><span class="syntax--keyword syntax--control syntax--assignment syntax--citron"><span>is</span></span><span>&nbsp;</span></span><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;assemble</span></span><span>:&nbsp;masm.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;write</span></span><span>:&nbsp;(ass</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;join</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\n</span></span><span>'</span></span><span>),</span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>brk</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;load</span></span><span>:&nbsp;masm.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--support syntax--class syntax--citron"><span>Pen</span></span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>red</span></span></span><span class="syntax--support syntax--function syntax--any-method syntax--message syntax--citron"><span>&nbsp;write</span></span><span>:&nbsp;</span><span class="syntax--string syntax--quoted syntax--citron"><span>'</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\n</span></span><span>Exec:</span><span class="syntax--constant syntax--character syntax--escape syntax--citron"><span>\n</span></span><span>'</span></span><span>,</span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>resetColor</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>#&nbsp;Pen&nbsp;write:&nbsp;(MIPSAbstractMachine&nbsp;getSrc&nbsp;join:&nbsp;'\n'),&nbsp;brk.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>MIPSAbstractMachine</span><span class="syntax--meta syntax--message syntax--unary syntax--citron"><span>&nbsp;</span><span class="syntax--support syntax--function syntax--message syntax--unary syntax--citron"><span>interactiveRun</span></span></span><span>.</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>#&nbsp;50&nbsp;times:&nbsp;{MIPSAbstractMachine&nbsp;stepGraphical.}.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;Pen&nbsp;write:&nbsp;'$2:&nbsp;'&nbsp;+&nbsp;(MIPSAbstractMachine&nbsp;getReg:&nbsp;'2')&nbsp;+&nbsp;'\n$3:&nbsp;'&nbsp;+&nbsp;(MIPSAbstractMachine&nbsp;getReg:&nbsp;'3'),&nbsp;brk.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&gt;&nbsp;Uncomment&nbsp;for&nbsp;disassembly</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;var&nbsp;ass&nbsp;is</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;'00000000000000000000000000000000</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;00000001000010000100000000100110</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;00110100000110000001010000000000</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;10101100000110000000110000000000</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;00000000000000000000000000000000</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;00010011000010000000000000000000</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;10001101000001000000000000000000</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;10001101000101000000000000000000</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;00100010100001001100000000000000</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;10101101000001000000000000000000</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;00100001000010000010000000000000</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;00001000000000000100000000000000</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;00000000000000000000000000000000'</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;&nbsp;&nbsp;split:&nbsp;'\n'.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;Pen&nbsp;red&nbsp;write:&nbsp;'disassembling&nbsp;'&nbsp;+&nbsp;(ass&nbsp;join:&nbsp;','),&nbsp;resetColor&nbsp;brk.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="syntax--source syntax--citron"><span class="syntax--comment syntax--line syntax--citron"><span class="syntax--punctuation syntax--definition syntax--comment syntax--citron"><span>#</span></span><span>&nbsp;ass&nbsp;each:&nbsp;{:i:instr&nbsp;Pen&nbsp;write:&nbsp;(MIPSIntructions&nbsp;disassemble:&nbsp;instr),&nbsp;brk.}.</span><span>&nbsp;</span></span></span></div></pre>
